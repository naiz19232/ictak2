<!DOCTYPE html>
<html>
<head>
    <title>Todo List</title>
</head>
<body>
    <h1>Todo List</h1>
    <div id="todoList"></div>
</body>
<script>
    // Function to translate text using Google Translate API
    function translateText(text, targetLanguage) {
        const apiKey = 'YOUR_GOOGLE_TRANSLATE_API_KEY';
        const apiUrl = `https://translation.googleapis.com/language/translate/v2?key=${apiKey}`;

        fetch(apiUrl, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify({
                q: text,
                target: targetLanguage,
            }),
        })
        .then(response => response.json())
        .then(data => {
            if (data && data.data && data.data.translations && data.data.translations[0]) {
                return data.data.translations[0].translatedText;
            }
        })
        .catch(error => console.error(error));
    }

    fetch('https://jsonplaceholder.typicode.com/todos')
        .then(response => response.json())
        .then(data => {
            var completedCount = 0;
            var todoList = document.getElementById('todoList');

            data.forEach(task => {
                var taskItem = document.createElement('div');
                translateText(task.title, 'en') // Translate to English
                    .then(translatedText => {
                        taskItem.textContent = translatedText;
                        if (task.completed) {
                            taskItem.classList.add('completed');
                            completedCount++;
                        } else {
                            taskItem.addEventListener('click', function () {
                                toggleTaskCompletion(taskItem, task);
                            });
                        }
                        todoList.appendChild(taskItem);
                    });
            });

            if (completedCount >= 5) {
                alert(`Congrats. ${completedCount} Tasks have been Successfully Completed`);
            }
        })
        .catch(error => console.error(error));

    function toggleTaskCompletion(taskItem, task) {
        // Toggle the completed status
        task.completed = !task.completed;

        // Update the UI to reflect the change
        if (task.completed) {
            taskItem.classList.add('completed');
        } else {
            taskItem.classList.remove('completed');
        }
    }
</script>
</html>
